# What ports, IPs and protocols we listen for
Port <%= @sshd_port %>
Protocol 2

# HostKeys for protocol version 2
HostKey /etc/ssh/ssh_host_rsa_key
HostKey /etc/ssh/ssh_host_dsa_key
HostKey /etc/ssh/ssh_host_ecdsa_key

#Privilege Separation is turned on for security
UsePrivilegeSeparation yes

# Lifetime and size of ephemeral version 1 server key
KeyRegenerationInterval 3600
ServerKeyBits 768

# Logging
SyslogFacility AUTH
LogLevel INFO

# Authentication:
LoginGraceTime 120
PermitRootLogin <%= @permit_root %>
StrictModes yes

RSAAuthentication yes
PubkeyAuthentication yes

IgnoreRhosts yes
RhostsRSAAuthentication no
HostbasedAuthentication no

# To enable empty passwords, change to yes (NOT RECOMMENDED)
PermitEmptyPasswords no

ChallengeResponseAuthentication no

X11Forwarding <%= @x11_forwarding %>
X11DisplayOffset 10
PrintMotd no
PrintLastLog yes
TCPKeepAlive yes

Banner <%= @banner %>

AcceptEnv LANG LC_*

Subsystem sftp <%= @sftp_subsystem %>

UsePAM yes
